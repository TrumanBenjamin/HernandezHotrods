<main class="admin-page new-user">
  <header class="admin-header">
    <h1>Create New User</h1>
    <h2 class="admin-greeting">Hello, <%= user?.name || 'Admin' %>!</h2>
  </header>

  <section class="admin-section">
    <div class="admin-section__body">
      <% if (message) { %>
        <p class="success"><%= message %></p>
      <% } %>

      <% if (error) { %>
        <p class="error"><%= error %></p>
      <% } %>

      <form class="admin-form" action="/admin/users/new" method="post">
        <label>First Name
          <input name="name" type="text" required />
        </label>

        <label>Email
          <input name="email" type="email" required />
        </label>

        <label>Password
        <div class="password-wrap">
            <input
            type="password"
            name="password"
            id="new-user-password"
            required
            >
            <button
            type="button"
            class="toggle-password"
            aria-label="Show password"
            onclick="togglePassword('new-user-password', this)"
            >
            Show
            </button>
        </div>
        </label>

    

        <button type="submit" class="btn-red">Create User</button>
      </form>
    </div>
  </section>
</main>

<script>
function togglePassword(inputId, btn) {
  const input = document.getElementById(inputId);
  if (!input) return;

  const showing = input.type === 'text';
  input.type = showing ? 'password' : 'text';
  btn.textContent = showing ? 'Show' : 'Hide';
}
</script>